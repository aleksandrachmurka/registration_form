(this.webpackJsonpform_task=this.webpackJsonpform_task||[]).push([[0],[,,function(e,t,a){e.exports={modal:"Modal_modal__1bnSi",message:"Modal_message__3xwk0",success:"Modal_success__fFD0t",error:"Modal_error__3fsJH",show:"Modal_show__3iRvC",hide:"Modal_hide__3PidT"}},,,,,function(e,t,a){e.exports={form:"Form_form__3nNlV",fieldset:"Form_fieldset__2OPEA",legend:"Form_legend__237gk"}},function(e,t,a){e.exports={inputContainer:"Input_inputContainer__2dEl_",label:"Input_label__3tZ1I",input:"Input_input__1YkA3"}},,function(e,t,a){e.exports={container:"Error_container__1cVtw",text:"Error_text__G4Rdi"}},,,,function(e,t,a){e.exports={backdrop:"Backdrop_backdrop__1yHMl"}},function(e,t,a){e.exports={button:"Button_button__3QqSm"}},,function(e,t,a){e.exports=a(25)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(12),o=a.n(s),i=(a(22),a(23),a(9)),l=a.n(i),c=a(13),u=a(1),m=a(7),d=a.n(m),p={firstName:{id:"firstName",type:"text",label:"First Name",placeholder:"First name (optional)",required:!1,value:""},userName:{id:"userName",type:"text",label:"Username",placeholder:"Enter username",required:!0,value:""},password:{id:"password",type:"password",label:"Password",placeholder:"Enter password",required:!0,value:""},repeatPassword:{id:"repeatPassword",type:"password",label:"Repeat password",placeholder:"Repeat password",required:!0,value:""},email:{id:"email",type:"email",label:"Email",placeholder:"Enter your email",required:!0,value:""}},f=a(6),h=a(4),_=a(16),b=function(e){return""===e.value.trim()},v=function(e){return!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},w=function(e){var t=Object(r.useState)(p),a=Object(u.a)(t,2),n=a[0],s=a[1],o=Object(r.useState)([]),i=Object(u.a)(o,2),l=i[0],c=i[1];return{handleSubmit:function(t){t&&t.preventDefault(),l&&c([]);var a=function(e){var t,a,r=[];for(var n in e)e[n].required&&b(e[n])&&r.push("".concat(e[n].label," is empty. Please fill it in.")),"repeatPassword"===e[n].id&&(t=e.password.value,a=e[n].value,t!==a)&&r.push("Passwords must be identical."),"email"===e[n].id&&v(e[n].value)&&r.push("Email format is incorrect.");return{inputErrors:r,isFormValid:0===r.length}}(n),r=a.inputErrors;a.isFormValid?(e(),t.target.reset(),s((function(e){return p}))):c((function(e){return Object(_.a)(r)}))},handleInput:function(e){e.persist(),s((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(f.a)({},e.target.id,Object(h.a)(Object(h.a)({},t[e.target.id]),{},{value:e.target.value})))}))},inputs:n,errors:l}},E=a(8),g=a.n(E),N=function(e){var t=e.input,a=e.changeHandler,r=t.id,s=t.label,o=t.type,i=t.placeholder,l=t.required;return n.a.createElement("div",{className:g.a.inputContainer},n.a.createElement("label",{className:g.a.label,htmlFor:r},s),n.a.createElement("input",{className:g.a.input,id:r,type:o,placeholder:i,required:l,onChange:a}))},y=a(2),k=a.n(y),O=a(14),j=a.n(O),x=function(e){var t=e.show,a=e.close;return t&&n.a.createElement("div",{className:j.a.backdrop,onClick:a})},S={success:"Registered successfully!",error:"Error occured while processing your registration request :("},P=function(e){var t=e.show,a=e.status,r=e.close;return n.a.createElement(n.a.Fragment,null,n.a.createElement(x,{show:t,close:r}),n.a.createElement("div",{className:"".concat(k.a.modal," ").concat(k.a[a]," ").concat(t?k.a.show:k.a.hide)},n.a.createElement("p",{className:k.a.message},S[a])))},F=a(15),q=a.n(F),M=function(e){var t=e.isSubmitting;return n.a.createElement("button",{type:"submit",className:q.a.button,disabled:t},t?"Registering...":"Register")},R=a(10),I=a.n(R),C=function(e){var t=e.errors;return n.a.createElement("div",{className:I.a.container},n.a.createElement("p",{className:I.a.text},"Please review errors and resubmit:"),t.map((function(e,t){return n.a.createElement("p",{key:t},e)})))},B="https://registration-form-6c099.firebaseio.com/users.json",H=function(){var e=w((function(){var e=function(e){return{firstName:e.firstName.value||"",userName:e.userName.value,password:e.password.value,repeatPassword:e.repeatPassword.value,email:e.email.value}}(s);h(!0),function(e){g.apply(this,arguments)}(e)})),t=e.handleSubmit,a=e.handleInput,s=e.inputs,o=e.errors,i=Object(r.useState)(!1),m=Object(u.a)(i,2),f=m[0],h=m[1],_=Object(r.useState)({show:!1,status:""}),b=Object(u.a)(_,2),v=b[0],E=b[1];function g(){return(g=Object(c.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(B,{method:"POST",body:JSON.stringify(t)});case 3:200===e.sent.status&&y(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),k();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function y(e){h(!1),console.log(e),E({show:!0,status:"success"})}function k(){h(!1),E({show:!0,status:"error"})}return n.a.createElement(n.a.Fragment,null,n.a.createElement(P,{show:v.show,status:v.status,close:function(){E({show:!1,status:""})}}),n.a.createElement("form",{className:d.a.form,onSubmit:t},n.a.createElement("fieldset",{className:d.a.fieldset},n.a.createElement("legend",{className:d.a.legend},"Register"),Object.keys(p).map((function(e){return n.a.createElement(N,{input:p[e],key:p[e].id,changeHandler:a})}))),0!==o.length&&n.a.createElement(C,{errors:o}),n.a.createElement(M,{isSubmitting:f})))};var J=function(){return n.a.createElement("div",{className:"app"},n.a.createElement(H,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[17,1,2]]]);
//# sourceMappingURL=main.1f5ac0bd.chunk.js.map